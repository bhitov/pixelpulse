<!doctype html>
<!--
Pixelpulse
(C) 2012 Nonolith Labs
# Authors:
	Kevin Mehall <km@kevinmehall.net>
# Distributed under the terms of the GNU GPLv3
-->
<html>
<head>
<meta charset='utf-8'>

<title>Pixelpulse</title>

<link rel="stylesheet/less" type="text/css" href='ui.less'>
<link href='http://fonts.googleapis.com/css?family=Droid+Sans:regular,bold' rel='stylesheet' type='text/css'>

<script src='lib/less.js'></script>
<script src='lib/coffee-script.js'></script>

<script src='lib/jquery-1.7.1.min.js'></script>
<script src='ga-events.coffee' type='text/coffeescript'></script>
<script src='livegraph.coffee' type='text/coffeescript'></script>
<script src='dataserver.coffee' type='text/coffeescript'></script>
<script src='livegraph_data_listener.coffee' type='text/coffeescript'></script>
<script src='widgets.coffee' type='text/coffeescript'></script>
<script src='human_units.coffee' type='text/coffeescript'></script>
<script src='session_common.coffee' type='text/coffeescript'></script>
<script src='app.coffee' type='text/coffeescript'></script>
<script src='views.coffee' type='text/coffeescript'></script>
<script src='export.coffee' type='text/coffeescript'></script>
</head>
<body class='layout-0side'>

<div id='error-overlay'>
<div id='error-status'>Loading...</div>

<div id='connectError' style='display:none'>
<h1>Nonolith Connect not found</h1>
<p class='osspec windows'>
Click <strong>Start->Programs->Nonolith Labs->Nonolith Connect</strong> to start Nonolith Connect.
</p>
<p class='osspec linux'>
Run <code>sudo /etc/init.d/nonolith-connect start</code> in a terminal to start Nonolith Connect.
</p>
</div>

<div id='chooseDevices' style='display:none'>
<h1>Choose a device</h1><ul></ul>
</div>

</div>

<div id='update-notify'>

</div>

<div id='topbar'></div>

<div id='streams'>
<section id='timeaxis'></section>
</div>

<div id='sidegraphs'>
<section id='sidegraph1'></section>
<section id='sidegraph2'></section>
</div>



<div id='toolbar'>
	<div id='toolbar-layouts'>
		<div id='layout-sel'><button title="Close side pane" id='layout0' onclick="pixelpulse.setLayout(0)">0</button><button id='layout1' onclick="pixelpulse.setLayout(1)" title="Side pane: 1 custom plot">1</button><button id='layout2' onclick="pixelpulse.setLayout(2)" title="Side pane: 2 custom plots">2</button>
		</div>
	</div>
	<div id='toolbar-left'>
		<button title="Toggle triggering (for repeating signals)" onclick="pixelpulse.toggleTrigger()" id='triggerbtn'>Trigger</button>
		<button id='zoomfit' title="Auto zoom" onclick='pixelpulse.autozoom()'>Auto-zoom</button>
	</div>
	<div class='spacer'></div>
	<div id='toolbar-center'>
		<button id='startpause' title="Start" class='startbtn'></button>
	</div>
	<div class='spacer'></div>
	<div id='toolbar-right'>
		<button id='download-btn' title="Export data">Export</button><button id='device-config' title="Configure device">Configure</button>
	</div>
	<div id='device-info'>
		<button id='switchDev' onclick='session.chooseDevice()'>Switch</button>
	</div>
</div>

<section id='config-popup' class='popup-dialog'>
	<!--
	<label>Mode</label>
	<select>
		<option>2 Channels source-measure</option>
		<option>Bidirectional source-measure</option>
		<option>2 Channels input</option>
	</select>
	-->
	
	<label>Sample Rate</label>
	<select id='config-sample-rate'>
		<option value=0.001>1k</option>
		<option value=0.0002>5k</option>
		<option value=0.0001>10k</option>
		<option value=0.00005>20k</option>
		<option value=0.000025>40k</option>
		<option value=0.0000125>80k</option>
		<option value=0.00001>100k</option>
	</select>
	
	<div class='actions'>
	<div id='config-will-reset'>Applying these settings will clear collected data</div>
	<button id='device-config-apply'>Apply</button>
	</div>
</section>

<section id='export-popup' class='popup-dialog'>
	<label>Export CSV</label>
	<strong id='export-progress' style='display:block;margin:10px 0;'>Exporting...</strong>
	<a id='export-link' download='export.csv' style='display:block;margin:10px 0;'>Download</a>
	<div class='actions'>
	<button id='export-close'>Close</button>
	</div>
</section>

<div id='perfstat'></div>

<div id='hidden' style='position: absolute; bottom: 0; z-index: -10'></div>

</body>
</html>
